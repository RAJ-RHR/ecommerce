(()=>{var e={};e.id=285,e.ids=[285],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5785:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(1324),t(1193),t(5866);var s=t(3191),a=t(8716),n=t(7922),i=t.n(n),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1324)),"C:\\Users\\mohan\\OneDrive\\Desktop\\ecommerce\\src\\app\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1193)),"C:\\Users\\mohan\\OneDrive\\Desktop\\ecommerce\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mohan\\OneDrive\\Desktop\\ecommerce\\src\\app\\checkout\\page.tsx"],u="/checkout/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7071:(e,r,t)=>{Promise.resolve().then(t.bind(t,7758))},7758:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),a=t(7577),n=t(3232),i=t(434),o=t(6226),l=t(76),d=t(445),c=t(5047);function u(){let{cartItems:e,clearCart:r}=(0,n.j)(),[t,u]=(0,a.useState)({name:"",address:"",phone:"",email:"",paymentMethod:"Cash On Delivery"}),m=(0,c.useRouter)(),p=e.reduce((e,r)=>e+r.offer_price*r.quantity,0),h=e.reduce((e,r)=>e+(r.price-r.offer_price)*r.quantity,0),x=e=>{u({...t,[e.target.name]:e.target.value})},g=async s=>{if(s.preventDefault(),!/^[6-9]\d{9}$/.test(t.phone)){alert("Please enter a valid 10-digit phone number starting with 6-9.");return}try{let s=l.EK.now(),a=5505+Math.floor(Date.now()/1e3)%1e5;await (0,l.ET)((0,l.hJ)(d.db,"orders"),{...t,cartItems:e,total:p,totalSavings:h,createdAt:s,status:"Pending",numericOrderId:a}),r(),m.push("/thank-you?oid="+a)}catch(e){console.error("Error saving order:",e),alert("Error placing order. Please try again.")}},f=e=>e.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),b=new Date,j=new Date(b),y=new Date(b);return j.setDate(b.getDate()+6),y.setDate(b.getDate()+8),s.jsx("div",{className:"mt-20",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{className:"text-xl font-semibold",children:"\uD83D\uDED2 Checkout"})}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-10",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Your cart is empty."}),s.jsx(i.default,{href:"/shop",children:s.jsx("button",{className:"border border-green-600 text-green-600 px-6 py-2 rounded-full hover:bg-green-50 transition font-semibold",children:"\uD83D\uDECD️ Shop Now"})})]}):(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-4",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,s.jsxs)("ul",{className:"space-y-4",children:[e.map(e=>(0,s.jsxs)("li",{className:"flex gap-4 items-center border-b pb-4",children:[s.jsx(i.default,{href:`/products/${e.slug}`,children:s.jsx(o.default,{src:e.image,alt:e.name,width:64,height:64,className:"w-16 h-16 object-contain bg-white border rounded hover:scale-105 transition"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(i.default,{href:`/products/${e.slug}`,children:s.jsx("p",{className:"font-medium hover:text-green-700 cursor-pointer",children:e.name})}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Quantity: ",e.quantity]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,s.jsxs)("span",{className:"line-through text-gray-400 mr-1",children:["₹",e.price.toFixed(2)]}),(0,s.jsxs)("span",{className:"text-green-700 font-semibold",children:["₹",e.offer_price.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"text-right font-semibold text-green-700",children:["₹",(e.offer_price*e.quantity).toFixed(2)]})]},e.id)),(0,s.jsxs)("li",{className:"flex justify-between pt-4 text-lg font-bold border-t",children:[s.jsx("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["₹",p.toFixed(2)]})]}),h>0&&s.jsx("li",{className:"flex justify-between text-sm text-green-600 font-medium",children:(0,s.jsxs)("span",{children:["You saved ₹",h.toFixed(2)," on this order \uD83C\uDF89"]})})]})]}),(0,s.jsxs)("form",{onSubmit:g,className:"bg-white shadow rounded-lg p-4 space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Delivery Information"}),s.jsx("input",{name:"name",value:t.name,onChange:x,placeholder:"Full Name",required:!0,className:"w-full p-2 border rounded"}),s.jsx("textarea",{name:"address",value:t.address,onChange:x,placeholder:"Shipping Address",required:!0,className:"w-full p-2 border rounded"}),s.jsx("input",{name:"phone",value:t.phone,onChange:x,placeholder:"Phone Number",pattern:"[6-9][0-9]{9}",maxLength:10,required:!0,className:"w-full p-2 border rounded"}),s.jsx("input",{name:"email",value:t.email,onChange:x,placeholder:"Email Address",type:"email",required:!0,className:"w-full p-2 border rounded"}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold mt-4 mb-2",children:"Payment Method"}),s.jsx("div",{className:"space-y-2",children:["Paytm","Pay Online","Cash On Delivery","Bank Transfer"].map(e=>(0,s.jsxs)("label",{className:`block p-2 border rounded transition ${"Cash On Delivery"!==e?"opacity-50 cursor-not-allowed":"border-green-600 text-green-700 font-semibold"}`,children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:e,checked:t.paymentMethod===e,onChange:x,disabled:"Cash On Delivery"!==e,className:"mr-2"}),e]},e))})]}),s.jsx("button",{type:"submit",className:"w-full border border-red-600 text-red-600 py-2 rounded-full hover:bg-red-50 transition font-semibold",children:"Order"})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["\uD83D\uDE9A Estimated delivery: ",f(j)," – ",f(y)]})]})]})})}},1324:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`C:\Users\mohan\OneDrive\Desktop\ecommerce\src\app\checkout\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[623,226,493],()=>t(5785));module.exports=s})();