(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{8027:function(e,t,r){Promise.resolve().then(r.bind(r,9251))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},9251:function(e,t,r){"use strict";r.r(t);var a=r(7437),s=r(2265),n=r(6410),i=r(5978),o=r(9376),d=r(6059),c=r(7648);t.default=()=>{let{slug:e}=(0,o.useParams)(),[t,r]=(0,s.useState)(null),[l,u]=(0,s.useState)(""),[m,f]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1),{cartItems:x,addToCart:g,increaseQty:b,decreaseQty:y,removeFromCart:j}=(0,d.j)(),N="string"==typeof e?decodeURIComponent(e):Array.isArray(e)&&e.length>0?decodeURIComponent(e[0]):"";if((0,s.useEffect)(()=>{p(!0)},[]),(0,s.useEffect)(()=>{if(!N)return;let e=async()=>{let e=await (0,i.PL)((0,i.hJ)(n.db,"products")),t={};e.docs.forEach(e=>{let r=e.data();t[r.category]||(t[r.category]={id:e.id,name:r.name,image:r.image,category:r.category,label:r.label,description:r.description,price:Number(r.price),offer_price:Number(r.offer_price)})}),f(t)};(async()=>{let e=(0,i.IO)((0,i.hJ)(n.db,"products"),(0,i.ar)("category","==",N));r((await (0,i.PL)(e)).docs.map(e=>{let t=e.data();return{id:e.id,name:t.name,image:t.image,category:t.category,label:t.label,description:t.description,price:Number(t.price),offer_price:Number(t.offer_price)}}))})(),e()},[N]),!h)return null;let v=null==t?void 0:t.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())),w=e=>{let t=x.find(t=>t.id===e.id);t&&t.quantity>1?y(e.id):j(e.id)};return(0,a.jsxs)("div",{className:"mt-20",children:[(0,a.jsxs)("main",{className:"p-4",children:[(0,a.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:l,onChange:e=>u(e.target.value),className:"w-full md:w-1/3 p-2 border rounded text-sm"})}),(0,a.jsxs)("h1",{className:"text-2xl font-semibold mb-4",children:["Category: ",N]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:null==v?void 0:v.map(e=>{let t=x.find(t=>t.id===e.id);return(0,a.jsxs)("div",{className:"border rounded-lg shadow-sm p-4 text-center relative group hover:shadow-md",children:[(0,a.jsx)(c.default,{href:"/products/".concat(e.id),children:(0,a.jsxs)("div",{className:"cursor-pointer",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"h-40 w-full object-contain bg-white p-2 rounded mb-2 group-hover:scale-105 transition-transform"}),(0,a.jsx)("h3",{className:"text-base font-semibold mb-1",children:e.name}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,a.jsxs)("p",{className:"text-sm line-through text-gray-400",children:["₹",e.price]}),(0,a.jsxs)("p",{className:"text-green-600 font-bold text-lg",children:["₹",e.offer_price]})]})]})}),t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-2 flex justify-center items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>w(e),className:"px-3 py-1 border border-gray-400 text-gray-700 rounded-full hover:bg-gray-100",children:"-"}),(0,a.jsx)("span",{children:t.quantity}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"px-3 py-1 border border-gray-400 text-gray-700 rounded-full hover:bg-gray-100",children:"+"})]}),(0,a.jsx)(c.default,{href:"/cart",className:"inline-block mt-2 border border-blue-600 text-blue-600 px-3 py-1 rounded-full hover:bg-blue-50",children:"Go to Cart"})]}):(0,a.jsx)("button",{onClick:()=>g(e),className:"border border-green-600 text-green-600 px-6 py-2 rounded-full hover:bg-green-50 mt-2",children:"Add to Cart"})]},e.id)})})]}),Object.keys(m).length>0&&(0,a.jsxs)("section",{className:"px-4 md:px-8 mt-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Shop by ",(0,a.jsx)("span",{className:"text-green-600",children:"Category"})]}),(0,a.jsx)("div",{className:"flex overflow-x-auto gap-4 hide-scrollbar md:grid md:grid-cols-4 md:space-x-0",children:Object.entries(m).map(e=>{let[t,r]=e;return(0,a.jsxs)(c.default,{href:"/category/".concat(t),className:"min-w-[45%] md:min-w-0 bg-white rounded-2xl shadow p-4 flex-shrink-0 hover:shadow-xl transition duration-300 text-center",children:[(0,a.jsx)("div",{className:"overflow-hidden rounded-lg mb-2 transition-transform duration-300 hover:scale-105",children:(0,a.jsx)("img",{src:r.image,alt:r.name,className:"w-full h-32 object-contain"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm text-center",children:t})]},t)})})]})]})}},6059:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},j:function(){return o}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("cart");e&&i(JSON.parse(e)),d(!0)},[]),(0,s.useEffect)(()=>{o&&localStorage.setItem("cart",JSON.stringify(r))},[r,o]);let c=e=>{i(t=>t.filter(t=>t.id!==e))},l=r.reduce((e,t)=>e+t.quantity,0),u=r.reduce((e,t)=>e+t.quantity*t.offer_price,0);return o?(0,a.jsx)(n.Provider,{value:{cartItems:r,addToCart:e=>{i(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:c,increaseQty:e=>{i(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},decreaseQty:e=>{i(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t).filter(e=>e.quantity>0))},clearCart:()=>i([]),updateQuantity:(e,t)=>{if(t<=0)return c(e);i(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},totalQuantity:l,totalAmount:u},children:t}):null},o=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},6410:function(e,t,r){"use strict";r.d(t,{db:function(){return i}});var a=r(738),s=r(5978);let n=(0,a.ZF)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),i=(0,s.ad)(n)}},function(e){e.O(0,[358,648,448,971,117,744],function(){return e(e.s=8027)}),_N_E=e.O()}]);