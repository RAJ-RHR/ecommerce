(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{4330:function(e,t,a){Promise.resolve().then(a.bind(a,1164))},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},1164:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var s=a(7437),r=a(2265),n=a(5978),o=a(6410),c=a(9376);function i(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!1),d=(0,c.useRouter)();(0,r.useEffect)(()=>{if("true"===localStorage.getItem("admin")){let e;i(!0),l();let t=()=>{clearTimeout(e),e=setTimeout(()=>{localStorage.removeItem("admin"),alert("Session expired due to inactivity."),d.push("/admin/login")},3e5)},a=["mousemove","keydown","click","scroll"];return a.forEach(e=>document.addEventListener(e,t)),t(),()=>{clearTimeout(e),a.forEach(e=>document.removeEventListener(e,t))}}d.push("/admin/login")},[]);let l=async()=>{let e=(0,n.IO)((0,n.hJ)(o.db,"contacts"),(0,n.Xo)("createdAt","desc"));t((await (0,n.PL)(e)).docs.map(e=>({id:e.id,...e.data()})))},u=async e=>{if(confirm("Are you sure you want to delete this contact message?"))try{await (0,n.oe)((0,n.JU)(o.db,"contacts",e)),t(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting contact:",e),alert("Failed to delete. Try again.")}},m=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{await (0,n.r7)((0,n.JU)(o.db,"contacts",e),{read:!a}),t(t=>t.map(t=>t.id===e?{...t,read:!a}:t))}catch(e){console.error("Error updating read status:",e)}};return a?(0,s.jsxs)("div",{className:"mt-24 max-w-5xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>d.push("/admin"),className:"bg-gray-700 text-white px-2 py-2 rounded hover:bg-gray-800",children:"← Go to Home"}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDCE9 Contact Messages"})]}),0===e.length?(0,s.jsx)("p",{className:"text-gray-600",children:"No contact messages found."}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm bg-white relative ".concat(e.read?"":"border-blue-500 bg-blue-50"),children:[!e.read&&(0,s.jsx)("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"New"}),(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold text-lg",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),e.phone&&(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",e.phone]})]}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)("button",{onClick:()=>m(e.id,e.read),className:"text-sm px-3 py-1 rounded font-medium ".concat(e.read?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-200 text-green-800 hover:bg-green-300"),children:e.read?"Mark Unread":"Mark Read"}),(0,s.jsx)("button",{onClick:()=>u(e.id),className:"text-red-600 hover:underline text-sm",children:"❌ Delete"})]})]}),(0,s.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)("strong",{children:"Subject:"})," ",e.subject||"—"]}),(0,s.jsx)("p",{className:"text-sm text-gray-700",children:e.message})]},e.id))})]}):null}},6410:function(e,t,a){"use strict";a.d(t,{db:function(){return o}});var s=a(738),r=a(5978);let n=(0,s.ZF)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),o=(0,r.ad)(n)}},function(e){e.O(0,[358,448,971,117,744],function(){return e(e.s=4330)}),_N_E=e.O()}]);