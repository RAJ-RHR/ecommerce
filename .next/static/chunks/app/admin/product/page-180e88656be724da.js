(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{1720:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var r=t(5155),l=t(2115),s=t(5317),i=t(6104),d=t(6874),n=t.n(d);function o(){let[e,a]=(0,l.useState)({name:"",price:"",offer_price:"",category:"",label:"",description:"",image:null}),[t,d]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),[p,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(""),[g,x]=(0,l.useState)(1),[f,b]=(0,l.useState)(""),[j,y]=(0,l.useState)(!1),[w,N]=(0,l.useState)(!1),v=["Weight Management","Enhancers","Energy & Fitness","Children's Health","Women's Health","Men's Health","Bone & Joint Health","Digestive Health","Sports Nutritions","Skin & Body Care","Male Enhancement"];(0,l.useEffect)(()=>{C()},[]);let C=async()=>{c((await (0,s.GG)((0,s.rJ)(i.db,"products"))).docs.map(e=>({id:e.id,...e.data()})))},S=t=>{let{name:r,value:l,files:s}=t.target;s&&s[0]?(a({...e,image:s[0]}),d(URL.createObjectURL(s[0]))):a({...e,[r]:l})},_=async e=>{let a=new FormData;a.append("file",e),a.append("upload_preset","herbolife_upload");let t=await fetch("https://api.cloudinary.com/v1_1/deijswbt1/image/upload",{method:"POST",body:a});return(await t.json()).secure_url},P=async t=>{t.preventDefault(),y(!0);let r=null;if(e.image&&!(r=await _(e.image))){alert("❌ Image upload failed"),y(!1);return}let l={name:e.name,price:e.price,offer_price:e.offer_price,category:e.category,label:e.label,description:e.description,...r&&{image:r}};if(p){let e=(0,s.H9)(i.db,"products",p);await (0,s.mZ)(e,l)}else await (0,s.gS)((0,s.rJ)(i.db,"products"),{...l,image:r,createdAt:(0,s.O5)()});a({name:"",price:"",offer_price:"",category:"",label:"",description:"",image:null}),d(null),u(null),y(!1),N(!0),C(),setTimeout(()=>N(!1),3e3)},k=e=>{a({name:e.name,price:e.price,offer_price:e.offer_price,category:e.category||"",label:e.label||"",description:e.description||"",image:null}),d(e.image),u(e.id)},E=async e=>{confirm("Are you sure to delete?")&&(await (0,s.kd)((0,s.H9)(i.db,"products",e)),C())},D=o.filter(e=>{let a=!m||e.category===m,t=e.name.toLowerCase().includes(f.toLowerCase());return a&&t}),H=Math.ceil(D.length/6),O=D.slice((g-1)*6,6*g);return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:p?"✏️ Edit Product":"➕ Add Product"}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:S,placeholder:"Product Name",className:"border w-full p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"text",name:"price",value:e.price,onChange:S,placeholder:"Price",className:"border w-full p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"text",name:"offer_price",value:e.offer_price,onChange:S,placeholder:"Offer Price",className:"border w-full p-2 rounded",required:!0}),(0,r.jsxs)("select",{name:"category",value:e.category,onChange:S,className:"border w-full p-2 rounded",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Category"}),v.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{name:"label",value:e.label,onChange:S,className:"border w-full p-2 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Label"}),["Hot Deal","Sale","Limited Offer"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("textarea",{name:"description",value:e.description,onChange:S,placeholder:"Product Description",className:"border w-full p-2 rounded",rows:4}),(0,r.jsx)("input",{type:"file",name:"image",onChange:S,accept:"image/*",className:"border w-full p-2 rounded",...p?{}:{required:!0}}),t&&(0,r.jsx)("img",{src:t,alt:"Preview",className:"w-full h-60 object-contain bg-white rounded"}),(0,r.jsx)("button",{type:"submit",className:"bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700",children:j?p?"Updating...":"Uploading...":p?"Update Product":"Upload Product"})]}),w&&(0,r.jsxs)("div",{className:"fixed top-5 left-1/2 transform -translate-x-1/2 bg-white shadow-xl px-6 py-3 border rounded text-green-700 font-semibold z-50",children:["✅ Product ",p?"updated":"added"," successfully!"]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mt-10",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search by product name...",value:f,onChange:e=>b(e.target.value),className:"border p-2 rounded w-full md:max-w-sm"}),(0,r.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"border p-2 rounded w-full md:w-auto",children:[(0,r.jsx)("option",{value:"",children:"All Categories"}),v.map(e=>(0,r.jsx)("option",{children:e},e))]})]}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-6",children:[(0,r.jsx)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===g,className:"bg-gray-200 px-3 py-1 rounded",children:"Prev"}),(0,r.jsxs)("span",{children:["Page ",g," of ",H]}),(0,r.jsx)("button",{onClick:()=>x(e=>Math.min(e+1,H)),disabled:g===H,className:"bg-gray-200 px-3 py-1 rounded",children:"Next"})]}),(0,r.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(e=>(0,r.jsxs)("div",{className:"border rounded p-4 flex flex-col",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"h-40 object-contain bg-white rounded mb-2"}),(0,r.jsx)("h4",{className:"font-bold",children:e.name}),(0,r.jsxs)("p",{children:["Category: ",e.category]}),(0,r.jsxs)("p",{children:["Price: ₹",e.price]}),(0,r.jsxs)("p",{children:["Offer: ₹",e.offer_price]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Label: ",e.label||"None"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Desc: ",e.description||"No description"]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)(n(),{href:"/products/".concat(e.id),children:(0,r.jsx)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded cursor-pointer",children:"View"})}),(0,r.jsx)("button",{onClick:()=>k(e),className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>E(e.id),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]},e.id))})]})}},6104:(e,a,t)=>{"use strict";t.d(a,{db:()=>i});var r=t(3915),l=t(5317);let s=(0,r.Wp)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),i=(0,l.aU)(s)},9538:(e,a,t)=>{Promise.resolve().then(t.bind(t,1720))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,874,399,441,684,358],()=>a(9538)),_N_E=e.O()}]);