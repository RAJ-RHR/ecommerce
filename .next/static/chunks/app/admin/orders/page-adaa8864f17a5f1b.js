(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{5865:function(e,s,t){Promise.resolve().then(t.bind(t,7613))},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},7613:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(7437),r=t(2265),n=t(5978),l=t(6410),d=t(9376);function i(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(40),[h,x]=(0,r.useState)(1),p=(0,d.useRouter)();(0,r.useEffect)(()=>{if("true"===localStorage.getItem("admin")){let e;i(!0),g();let s=()=>{clearTimeout(e),e=setTimeout(()=>{localStorage.removeItem("admin"),alert("Session expired due to inactivity."),p.push("/admin/login")},3e5)},t=["mousemove","keydown","click","scroll"];return t.forEach(e=>document.addEventListener(e,s)),s(),()=>{clearTimeout(e),t.forEach(e=>document.removeEventListener(e,s))}}p.push("/admin/login")},[]);let g=async()=>{let e=(0,n.IO)((0,n.hJ)(l.db,"orders"),(0,n.Xo)("createdAt","desc"));s((await (0,n.PL)(e)).docs.map(e=>({id:e.id,...e.data()})))},b=async(e,t)=>{try{let a=(0,n.JU)(l.db,"orders",e);await (0,n.r7)(a,{status:t}),s(s=>s.map(s=>s.id===e?{...s,status:t}:s))}catch(e){console.error("Error updating status:",e)}},f=async e=>{if(confirm("Are you sure you want to delete this order?"))try{await (0,n.oe)((0,n.JU)(l.db,"orders",e)),s(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Failed to delete order:",e)}};if(!t)return null;let v=e.filter(e=>[e.name,e.email,e.phone].join(" ").toLowerCase().includes(o.toLowerCase())),j=(h-1)*u,y=v.slice(j,j+u),N=Math.ceil(v.length/u);return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto mb-5 mt-5 px-4 py-10",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"\uD83D\uDCE6 Admin Orders Panel"}),(0,a.jsxs)("div",{className:"flex gap-3 p-4 mt-7 border-b mb-4",children:[(0,a.jsx)("button",{onClick:()=>p.push("/admin"),className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-800",children:"\uD83C\uDFE0 Home"}),(0,a.jsx)("button",{onClick:()=>p.push("/admin/blog"),className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700",children:"\uD83D\uDCE6 View Blogs"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("admin"),p.push("/admin/login")},className:"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700",children:"\uD83D\uDD13 Logout"})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone",value:o,onChange:e=>{c(e.target.value),x(1)},className:"w-full md:w-1/2 border p-2 rounded"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Show:"}),(0,a.jsx)("select",{value:u,onChange:e=>{m(Number(e.target.value)),x(1)},className:"border p-1 rounded",children:[40,100,200].map(e=>(0,a.jsxs)("option",{value:e,children:[e," orders"]},e))})]})]}),0===y.length?(0,a.jsx)("p",{children:"No orders found."}):(0,a.jsx)("div",{className:"space-y-6",children:y.map(e=>{var s,t,r;return(0,a.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm bg-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-lg",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.phone}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Payment: ",e.paymentMethod]})]}),(0,a.jsxs)("div",{className:"text-right space-y-1",children:[(0,a.jsxs)("p",{className:"text-green-600 font-bold text-lg",children:["₹",e.total]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Saved ₹",null===(s=e.totalSavings)||void 0===s?void 0:s.toFixed(2)]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:null===(t=e.createdAt)||void 0===t?void 0:t.toDate().toLocaleString()}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status:"}),(0,a.jsx)("select",{value:e.status||"Pending",onChange:s=>b(e.id,s.target.value),className:"border rounded p-1 text-sm",children:["Pending","Shipped","Delivered","Cancelled"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"\uD83D\uDDD1️ Delete"})]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:["\uD83D\uDCCD Address: ",e.address]}),(0,a.jsxs)("div",{className:"border-t pt-2 mt-2",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDED2 Products:"}),(0,a.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:null===(r=e.cartItems)||void 0===r?void 0:r.map((e,s)=>(0,a.jsxs)("li",{className:"bg-gray-50 p-3 rounded border flex items-center gap-3",children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["₹",e.offer_price," \xd7 ",e.quantity," = ₹",e.offer_price*e.quantity]})]})]},s))})]})]},e.id)})}),N>1&&(0,a.jsxs)("div",{className:"flex justify-center mt-6 mb-4 gap-4 items-center",children:[(0,a.jsx)("button",{disabled:1===h,onClick:()=>x(e=>e-1),className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"← Prev"}),(0,a.jsxs)("span",{className:"font-medium text-sm",children:["Page ",h," of ",N]}),(0,a.jsx)("button",{disabled:h===N,onClick:()=>x(e=>e+1),className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"Next →"})]})]})}},6410:function(e,s,t){"use strict";t.d(s,{I:function(){return i},db:function(){return d}});var a=t(738),r=t(5978),n=t(3301);let l=(0,a.ZF)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),d=(0,r.ad)(l),i=(0,n.v0)(l)}},function(e){e.O(0,[358,728,943,971,117,744],function(){return e(e.s=5865)}),_N_E=e.O()}]);