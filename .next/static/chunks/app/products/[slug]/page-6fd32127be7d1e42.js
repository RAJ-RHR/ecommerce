(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{3576:function(e,t,a){Promise.resolve().then(a.bind(a,8887))},8887:function(e,t,a){"use strict";a.d(t,{default:function(){return u}});var r=a(7437),s=a(2265),i=a(6410),l=a(5978),n=a(9376),d=a(6059),c=a(8003),o=a.n(c),m=a(7648);function u(e){let{product:t}=e,[a,c]=(0,s.useState)(!1),{slug:u}=(0,n.useParams)(),[x,g]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[b,f]=(0,s.useState)(""),[y,j]=(0,s.useState)(!0),[N,v]=(0,s.useState)([]),[w,S]=(0,s.useState)({name:"",message:"",rating:5}),{addToCart:C,increaseQty:k,decreaseQty:O,cartItems:_}=(0,d.j)();(0,s.useEffect)(()=>{let e=async(e,t)=>{let a=(0,l.IO)((0,l.hJ)(i.db,"products"),(0,l.ar)("category","==",e),(0,l.b9)(4));g((await (0,l.PL)(a)).docs.filter(e=>e.data().slug!==t).map(e=>{let t=e.data();return{id:e.id,name:t.name,image:t.image,category:t.category,label:t.label,description:t.description||"Ayurvedic Product",price:Number(t.price),offer_price:Number(t.offer_price),slug:t.slug}}))},t=async()=>{let e=await (0,l.PL)((0,l.hJ)(i.db,"products")),t=new Map;e.docs.forEach(e=>{let a=e.data(),r=a.category;t.has(r)||t.set(r,{id:e.id,name:a.name,image:a.image,category:a.category,label:a.label,description:a.description||"Ayurvedic Product",price:Number(a.price),offer_price:Number(a.offer_price),slug:a.slug})}),h(Array.from(t.values()))},a=async e=>{let t=(0,l.IO)((0,l.hJ)(i.db,"reviews"),(0,l.ar)("productId","==",e),(0,l.ar)("status","==","approved"));v((await (0,l.PL)(t)).docs.map(e=>{let t=e.data();return{id:e.id,name:t.name,message:t.message,rating:t.rating,productId:t.productId,productName:t.productName,productCategory:t.productCategory,status:t.status,created_at:t.created_at,dateOfSubmit:t.dateOfSubmit&&"seconds"in t.dateOfSubmit?new Date(1e3*t.dateOfSubmit.seconds):t.dateOfSubmit instanceof Date?t.dateOfSubmit:null}}))};(async()=>{if(j(!0),!u||"string"!=typeof u){j(!1);return}let t=(0,l.IO)((0,l.hJ)(i.db,"products"),(0,l.ar)("slug","==",u),(0,l.b9)(1)),r=await (0,l.PL)(t);if(!r.empty){let t=r.docs[0],s=t.data(),i={id:t.id,name:s.name,image:s.image,category:s.category,label:s.label,description:s.description||"Ayurvedic Product",price:Number(s.price),offer_price:Number(s.offer_price),slug:s.slug,meta_description:s.meta_description||"",meta_keywords:s.meta_keywords||""};f(s.availability||""),e(i.category,i.slug),a(t.id)}j(!1)})(),t()},[u]);let D=async()=>{if(!t)return;let e={...w,created_at:(0,l.Bt)(),productId:t.id,productName:t.name,productCategory:t.category,dateOfSubmit:new Date,status:"pending"};await (0,l.ET)((0,l.hJ)(i.db,"reviews"),e),alert("Review submitted and pending approval."),S({name:"",message:"",rating:5})},I=e=>{switch(e){case"Hot Deal":return"bg-red-600";case"Sale":return"bg-green-600";case"Limited Offer":return"bg-orange-500";default:return"bg-gray-500"}},A=N.length?N.reduce((e,t)=>e+t.rating,0)/N.length:0;if(!t)return null;let P=_.find(e=>e.id===t.id),R="https://store.herbolife.in/products/".concat(t.slug);t.name;let q=t.description,E=e=>e.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),F=new Date,J=new Date(F),L=new Date(F);return J.setDate(F.getDate()+6),L.setDate(F.getDate()+8),(0,r.jsxs)(r.Fragment,{children:[N.length>0&&A>=1&&A<=5&&(0,r.jsx)(o(),{type:"application/ld+json",id:"product-schema",strategy:"lazyOnload",children:JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:t.name,image:Array.isArray(t.image)?t.image:[t.image],description:q,sku:t.id,brand:{"@type":"Brand",name:"Herbolife"},aggregateRating:{"@type":"AggregateRating",ratingValue:A.toFixed(1),reviewCount:N.length},offers:{"@type":"Offer",url:R,priceCurrency:"INR",price:t.offer_price,priceValidUntil:"2025-12-31",itemCondition:"https://schema.org/NewCondition",availability:"https://schema.org/InStock"}})}),(0,r.jsxs)("div",{className:"mt-20 px-4 md:px-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[(0,r.jsxs)("div",{className:"relative bg-white p-4 shadow rounded-xl",children:[t.label&&(0,r.jsx)("span",{className:"absolute top-2 left-2 text-xs text-white px-2 py-1 rounded ".concat(I(t.label)),children:t.label}),(0,r.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-96 object-contain"})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:t.name}),(0,r.jsxs)("p",{className:"text-lg text-gray-600 mb-2",children:["Category: ",t.category]}),(0,r.jsx)("div",{className:"bg-gray-50 border rounded-lg p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-green-600 font-bold text-xl",children:["Special price: ₹",t.offer_price.toFixed(2)]}),(0,r.jsxs)("div",{className:"line-through text-gray-500 text-sm",children:["Old price: ₹",t.price.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-red-500 font-semibold text-sm",children:["You save: ₹",(t.price-t.offer_price).toFixed(2)]})]})}),(0,r.jsx)("div",{className:"mb-4",children:(()=>{let e="In Stock"===b?"text-green-600":"Limited Stock"===b?"text-orange-500":"text-red-600";return(0,r.jsxs)("p",{className:"text-sm font-medium ".concat(e),children:["Availability: ",b]})})()})," ",P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("button",{onClick:()=>O(t.id),className:"px-3 py-1 border rounded-full",children:"−"}),(0,r.jsx)("span",{children:P.quantity}),(0,r.jsx)("button",{onClick:()=>k(t.id),className:"px-3 py-1 border rounded-full",children:"+"})]}),(0,r.jsx)(m.default,{href:"/cart",className:"w-full max-w-xs py-2 text-sm border border-blue-600 text-blue-600 rounded-full hover:bg-blue-50 transition text-center block mt-2",children:"Go to Cart"})]}):(0,r.jsx)("button",{onClick:()=>C(t),className:"w-full max-w-xs py-2 text-sm border border-green-600 text-green-600 rounded-full hover:bg-green-50 transition",children:"Add to Cart"}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["\uD83D\uDE9A Estimated delivery: ",E(J)," – ",E(L)]})]}),(0,r.jsx)("div",{className:"md:col-span-2 mt-6 text-gray-700 text-sm whitespace-pre-line leading-relaxed",children:t.description})]}),(0,r.jsxs)("section",{className:"mt-10 border-t border-gray-300 pt-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Customer Reviews"}),N.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid gap-4",children:(a?N:N.slice(0,3)).map(e=>{var t;let a=e.dateOfSubmit instanceof Date?e.dateOfSubmit:(null===(t=e.dateOfSubmit)||void 0===t?void 0:t.seconds)?new Date(1e3*e.dateOfSubmit.seconds):null,s=a?"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear()):"N/A";return(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-800",children:[e.name," ",(0,r.jsx)("span",{className:"text-sm text-gray-500 font-normal ml-2",children:s})]}),(0,r.jsx)("div",{className:"text-yellow-500 text-sm",children:Array.from({length:5}).map((t,a)=>(0,r.jsx)("span",{children:a<e.rating?"★":"☆"},a))})]}),(0,r.jsx)("p",{className:"text-gray-700 text-sm",children:e.message})]},e.id)})}),N.length>3&&(0,r.jsx)("button",{onClick:()=>c(!a),className:"mt-4 text-blue-600 hover:underline text-sm",children:a?"See Less Reviews":"See More Reviews"})]}):(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No reviews yet."}),(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Write a Review"}),(0,r.jsx)("input",{type:"text",placeholder:"Your Name",className:"w-full border px-3 py-2 rounded mb-2",value:w.name,onChange:e=>S({...w,name:e.target.value})}),(0,r.jsx)("textarea",{placeholder:"Your Review",className:"w-full border px-3 py-2 rounded mb-2",rows:4,value:w.message,onChange:e=>S({...w,message:e.target.value})}),(0,r.jsx)("div",{className:"flex gap-1 mb-3 cursor-pointer",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("span",{className:"text-2xl ".concat(t<w.rating?"text-yellow-500":"text-gray-300"),onClick:()=>S({...w,rating:t+1}),children:"★"},t))}),(0,r.jsx)("button",{onClick:D,className:"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700",children:"Submit Review"})]})]})]}),x.length>0&&(0,r.jsxs)("section",{className:"px-4 md:px-8 my-12 touch-pan-y scroll-smooth","data-section":"related-products",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Related Products"}),(0,r.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-4",children:x.map(e=>{let t=_.find(t=>t.id===e.id);return(0,r.jsxs)("div",{className:"border rounded-xl p-4 shadow hover:shadow-lg transition text-center relative",children:[e.label&&(0,r.jsx)("span",{className:"absolute top-2 left-2 text-xs text-white px-2 py-1 rounded ".concat(I(e.label)),children:e.label}),(0,r.jsx)(m.default,{href:"/products/".concat(e.slug),className:"block",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{src:e.image,alt:e.name,loading:"lazy",className:"h-40 w-full object-contain mb-2"}),(0,r.jsx)("h3",{className:"font-semibold text-base mb-1",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Category: ",e.category]}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 mb-2",children:[(0,r.jsxs)("p",{className:"text-sm line-through text-gray-400",children:["₹",e.price.toFixed(2)]}),(0,r.jsxs)("p",{className:"text-green-600 font-bold text-lg",children:["₹",e.offer_price.toFixed(2)]})]})]})}),t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 mb-1",children:[(0,r.jsx)("button",{onClick:()=>O(e.id),className:"border px-3 py-1 rounded-full",children:"−"}),(0,r.jsx)("span",{children:t.quantity}),(0,r.jsx)("button",{onClick:()=>k(e.id),className:"border px-3 py-1 rounded-full",children:"+"})]}),(0,r.jsx)(m.default,{href:"/cart",className:"text-sm border border-blue-600 text-blue-600 px-3 py-1 rounded-full hover:bg-blue-50 inline-block",children:"Go to Cart"})]}):(0,r.jsx)("button",{onClick:()=>C(e),className:"text-sm border border-green-600 text-green-600 px-3 py-1 rounded-full hover:bg-green-50",children:"Add to Cart"})]},e.id)})})]}),p.length>0&&(0,r.jsxs)("section",{className:"w-full mt-12 mb-8 px-4 md:px-8 touch-pan-y scroll-smooth",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-center",children:["SHOP BY ",(0,r.jsx)("span",{className:"text-green-600",children:"CATEGORY"})]}),(0,r.jsx)("div",{className:"flex overflow-x-auto flex-nowrap gap-4 hide-scrollbar pb-1",children:p.map(e=>(0,r.jsx)("div",{className:"w-[calc(50%-0.5rem)] sm:w-[calc(33.333%-0.5rem)] md:w-[calc(20%-0.5rem)] bg-white rounded-2xl shadow p-4 flex-shrink-0 hover:shadow-xl transition duration-300",children:(0,r.jsxs)(m.default,{href:"/category/".concat(e.category),className:"block",children:[(0,r.jsx)("div",{className:"overflow-hidden rounded-lg mb-2 transition-transform duration-300 hover:scale-105",children:(0,r.jsx)("img",{src:e.image,alt:e.name,loading:"lazy",className:"w-full h-32 object-contain"})}),(0,r.jsx)("h3",{className:"font-semibold text-sm text-center",children:e.category})]})},e.category))})]})]})}},6059:function(e,t,a){"use strict";a.d(t,{Z:function(){return l},j:function(){return n}});var r=a(7437),s=a(2265);let i=(0,s.createContext)(void 0),l=e=>{let{children:t}=e,[a,l]=(0,s.useState)([]),[n,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("cart");e&&l(JSON.parse(e)),d(!0)},[]),(0,s.useEffect)(()=>{n&&localStorage.setItem("cart",JSON.stringify(a))},[a,n]);let c=e=>{l(t=>t.filter(t=>t.id!==e))},o=a.reduce((e,t)=>e+t.quantity,0),m=a.reduce((e,t)=>e+t.quantity*t.offer_price,0);return n?(0,r.jsx)(i.Provider,{value:{cartItems:a,addToCart:e=>{l(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:c,increaseQty:e=>{l(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},decreaseQty:e=>{l(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t).filter(e=>e.quantity>0))},clearCart:()=>l([]),updateQuantity:(e,t)=>{if(t<=0)return c(e);l(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},totalQuantity:o,totalAmount:m},children:t}):null},n=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},6410:function(e,t,a){"use strict";a.d(t,{I:function(){return d},db:function(){return n}});var r=a(738),s=a(5978),i=a(3301);let l=(0,r.ZF)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),n=(0,s.ad)(l),d=(0,i.v0)(l)}},function(e){e.O(0,[358,728,943,648,223,971,117,744],function(){return e(e.s=3576)}),_N_E=e.O()}]);