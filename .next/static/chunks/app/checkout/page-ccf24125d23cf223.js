(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{5130:(e,t,s)=>{Promise.resolve().then(s.bind(s,9301))},8088:(e,t,s)=>{"use strict";s.d(t,{_:()=>l,e:()=>n});var r=s(5155),a=s(2115);let i=(0,a.createContext)(void 0),n=e=>{let{children:t}=e,[s,n]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");e&&n(JSON.parse(e))},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]);let l=e=>{n(t=>t.filter(t=>t.id!==e))},c=s.reduce((e,t)=>e+t.quantity,0),d=s.reduce((e,t)=>e+t.quantity*t.offer_price,0);return(0,r.jsx)(i.Provider,{value:{cartItems:s,addToCart:e=>{n(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:l,increaseQty:e=>{n(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},decreaseQty:e=>{n(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t).filter(e=>e.quantity>0))},clearCart:()=>n([]),updateQuantity:(e,t)=>{if(t<=0)return l(e);n(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},totalQuantity:c,totalAmount:d},children:t})},l=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},9301:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155),a=s(8088),i=s(6766),n=s(6874),l=s.n(n);function c(){let{cartItems:e,removeFromCart:t,updateQuantity:s}=(0,a._)(),n=e.reduce((e,t)=>e+Number(t.offer_price)*Number(t.quantity),0),c=e.reduce((e,t)=>e+(Number(t.price)-Number(t.offer_price))*Number(t.quantity),0);return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDED2 Your Cart"}),0===e.length?(0,r.jsxs)("p",{className:"text-gray-600",children:["Your cart is empty."," ",(0,r.jsx)(l(),{href:"/shop",className:"text-green-600 underline",children:"Go shopping"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center border-b pb-4",children:[(0,r.jsx)(i.default,{src:e.image,alt:e.name,width:100,height:100,className:"object-contain rounded bg-white"}),(0,r.jsxs)("div",{className:"flex-1 ml-4 w-full",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.category}),(0,r.jsxs)("p",{className:"text-sm",children:["Price: ",(0,r.jsxs)("span",{className:"line-through",children:["₹",e.price]})," ",(0,r.jsxs)("span",{className:"text-green-600 font-bold",children:["₹",e.offer_price]})]}),(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>s(e.id,Number(e.quantity)-1),className:"px-2 py-1 bg-gray-200 rounded",disabled:e.quantity<=1,children:"-"}),(0,r.jsx)("span",{children:e.quantity}),(0,r.jsx)("button",{onClick:()=>s(e.id,Number(e.quantity)+1),className:"px-2 py-1 bg-gray-200 rounded",children:"+"})]}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-700 font-medium",children:["Total: ₹",Number(e.offer_price)*Number(e.quantity)]}),(0,r.jsx)("button",{onClick:()=>t(e.id),className:"mt-2 text-sm text-red-600 hover:underline",children:"Remove"})]})]},e.id))}),(0,r.jsxs)("div",{className:"mt-8 border-t pt-4 text-right space-y-2",children:[(0,r.jsxs)("p",{className:"text-lg",children:[(0,r.jsx)("span",{className:"font-medium",children:"Total:"})," ",(0,r.jsxs)("span",{className:"font-bold text-green-600 text-xl",children:["₹",n.toFixed(2)]})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["You saved ₹",c.toFixed(2)," on this order \uD83C\uDF89"]}),(0,r.jsx)(l(),{href:"/checkout",className:"inline-block mt-4 bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"Proceed to Checkout"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,766,441,684,358],()=>t(5130)),_N_E=e.O()}]);