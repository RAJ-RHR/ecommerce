(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{6104:(e,t,s)=>{"use strict";s.d(t,{db:()=>i});var a=s(3915),r=s(5317);let l=(0,a.Wp)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),i=(0,r.aU)(l)},8197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),r=s(2115),l=s(6104),i=s(5317),d=s(6874),n=s.n(d);function c(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)([]),[c,o]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)("");(0,r.useEffect)(()=>{j()},[u]),(0,r.useEffect)(()=>{let e=localStorage.getItem("cart");e&&d(JSON.parse(e))},[]);let g=e=>{d(e),localStorage.setItem("cart",JSON.stringify(e))},x=e=>{s.find(t=>t.id===e.id)||g([...s,{...e,quantity:1}])},f=e=>{g(s.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},b=e=>{g(s.map(t=>t.id===e?1===t.quantity?null:{...t,quantity:t.quantity-1}:t).filter(Boolean))},j=async()=>{let e,s=(0,i.rJ)(l.db,"products");e="low"===u?(0,i.P)(s,(0,i.My)("offer_price")):"high"===u?(0,i.P)(s,(0,i.My)("offer_price","desc")):"latest"===u?(0,i.P)(s,(0,i.My)("createdAt","desc")):s,t((await (0,i.GG)(e)).docs.map(e=>({id:e.id,...e.data()})))},y=e.filter(e=>{let t=e.name.toLowerCase().includes(c.toLowerCase()),s=!h||e.category===h;return t&&s});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{className:"flex flex-col md:flex-row",children:[(0,a.jsx)("div",{className:"md:w-1/5 p-4 border-r"}),(0,a.jsxs)("div",{className:"md:w-4/5 p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4",children:[(0,a.jsx)("input",{value:c,onChange:e=>o(e.target.value),placeholder:"Search products...",className:"w-full md:w-1/3 p-2 border rounded text-sm"}),(0,a.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"p-2 border rounded text-sm",children:[(0,a.jsx)("option",{value:"",children:"Default"}),(0,a.jsx)("option",{value:"low",children:"Price: Low to High"}),(0,a.jsx)("option",{value:"high",children:"Price: High to Low"}),(0,a.jsx)("option",{value:"latest",children:"Latest"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:y.map(e=>{let t=null==s?void 0:s.find(t=>t.id===e.id);return(0,a.jsxs)("div",{className:"border rounded-lg shadow-sm p-4 text-center relative group hover:shadow-md",children:[(0,a.jsxs)(n(),{href:"/products/".concat(e.id),children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"h-40 w-full object-contain bg-white p-2 rounded mb-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,a.jsxs)("p",{className:"text-green-600 font-bold text-lg",children:["₹",e.offer_price]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["₹",e.price]})]}),t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-2 flex justify-center items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>b(e.id),className:"px-3 py-1 bg-gray-200 rounded",children:"-"}),(0,a.jsx)("span",{children:t.quantity}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"px-3 py-1 bg-gray-200 rounded",children:"+"})]}),(0,a.jsx)(n(),{href:"/cart",className:"inline-block mt-2 bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200",children:"Go to Cart"})]}):(0,a.jsx)("button",{onClick:()=>x(e),className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 mt-2",children:"Add to Cart"})]},e.id)})})]})]})})}},8361:(e,t,s)=>{Promise.resolve().then(s.bind(s,8197))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,874,399,441,684,358],()=>t(8361)),_N_E=e.O()}]);