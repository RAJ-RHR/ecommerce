(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{9181:function(e,t,s){Promise.resolve().then(s.bind(s,8185))},8185:function(e,t,s){"use strict";s.d(t,{default:function(){return u}});var a=s(7437),l=s(2265),r=s(6410),n=s(5978),c=s(6202),i=s(3145),d=s(7648),o=s(9089);let m=()=>{let e=localStorage.getItem("herbolife_user_id");return e||(e="user_"+Math.random().toString(36).substring(2,10),localStorage.setItem("herbolife_user_id",e)),e};function u(e){let{blog:t}=e,s=m(),u="https://store.herbolife.in/blog/".concat(t.slug),x=(null==t?void 0:t.title)||"Check this blog",h=t.slug,[g,p]=(0,l.useState)(0),[b,f]=(0,l.useState)(!1),[j,N]=(0,l.useState)(0),[y,w]=(0,l.useState)(!1),[k,v]=(0,l.useState)([]),[D,S]=(0,l.useState)(""),[_,C]=(0,l.useState)(""),[I,O]=(0,l.useState)(!1),[A,J]=(0,l.useState)(null),[P,U]=(0,l.useState)([]);t.createdAt&&new Date(1e3*t.createdAt.seconds).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});let E=t.publishedDate?new Date(t.publishedDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"";(0,l.useEffect)(()=>{let e=(0,n.JU)(r.db,"blog_data",h),a=(0,n.cf)(e,t=>{if(t.exists()){let e=t.data(),a=e.likes||{},l=e.dislikes||{};p(Object.keys(a).length),f(!!a[s]),N(Object.keys(l).length),w(!!l[s]),v(e.comments||[])}else(0,n.pl)(e,{likes:{},dislikes:{},comments:[]})}),l=async()=>{let e=(0,n.IO)((0,n.hJ)(r.db,"blogs")),t=(await (0,n.PL)(e)).docs.map(e=>e.data()).filter(e=>e.slug!==h),s=await Promise.all(t.map(e=>(0,n.QT)((0,n.JU)(r.db,"blog_data",e.slug))));U(t.map((e,t)=>({...e,...s[t].exists()?s[t].data():{}})))};return(async()=>{if(!t.product)return;let e=(0,n.IO)((0,n.hJ)(r.db,"products"),(0,n.ar)("name","==",t.product)),s=await (0,n.PL)(e);s.empty||J(s.docs[0].data())})(),l(),()=>a()},[h,s]);let F=async()=>{let e=(0,n.JU)(r.db,"blog_data",h),t=await (0,n.QT)(e),a=t.exists()?t.data():{},l=a.likes||{},c=a.dislikes||{};l[s]?delete l[s]:(l[s]=!0,delete c[s]),await (0,n.pl)(e,{likes:l,dislikes:c},{merge:!0}),f(!!l[s]),w(!!c[s]),p(Object.keys(l).length),N(Object.keys(c).length)},L=async()=>{let e=(0,n.JU)(r.db,"blog_data",h),t=await (0,n.QT)(e),a=t.exists()?t.data():{},l=a.dislikes||{},c=a.likes||{};l[s]?delete l[s]:(l[s]=!0,delete c[s]),await (0,n.pl)(e,{dislikes:l,likes:c},{merge:!0}),w(!!l[s]),f(!!c[s]),N(Object.keys(l).length),p(Object.keys(c).length)},Q=async()=>{if(!D.trim()||!_.trim())return alert("Enter name and comment");let e={text:D.trim(),userName:_.trim(),uid:s,createdAt:n.EK.now()},t=(0,n.JU)(r.db,"blog_data",h),a=await (0,n.QT)(t),l=a.exists()?a.data():{likes:{},comments:[]},c=[e,...l.comments||[]].slice(0,10);await (0,n.pl)(t,{...l,comments:c},{merge:!0}),S("")},R=I?k:k.slice(0,2);return(0,a.jsxs)("div",{className:"bg-white text-black mt-6 p-4 max-w-3xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mt - 6 mb-2",children:t.title}),(0,a.jsxs)("p",{className:"text-center text-sm text-gray-500 mb-4",children:["By: ",(0,a.jsx)("strong",{children:"Herbolife"})," | ",t.product," in ",t.category,"  | Published: ",E]}),t.coverImage&&(0,a.jsx)("div",{className:"mb-6 flex justify-center",children:(0,a.jsx)(i.default,{src:t.coverImage,alt:"cover",width:400,height:200,className:"rounded-md"})}),(0,a.jsx)("div",{className:"text-sm text-gray-700 mt-6 leading-relaxed whitespace-pre-line",children:(0,a.jsx)(c.UG,{children:t.content})}),A&&(0,a.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-md mb-6 mt-4 items-center",children:[(0,a.jsx)(i.default,{src:A.image,alt:A.name,width:80,height:80,className:"rounded object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:A.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:A.category}),(0,a.jsxs)("p",{className:"mt-1",children:[(0,a.jsxs)("span",{className:"text-green-600 font-bold",children:["₹",A.offer_price]})," ",(0,a.jsxs)("span",{className:"line-through text-gray-500 ml-2",children:["₹",A.price]})," ",(0,a.jsx)("span",{className:"text-red-600",children:((e,t)=>{let s=parseFloat(e),a=parseFloat(t);return s&&a?"".concat(Math.round((s-a)/s*100),"% OFF"):""})(A.price,A.offer_price)})]}),(0,a.jsx)(d.default,{href:"/products/".concat(A.slug),children:(0,a.jsx)("span",{className:"inline-block mt-2 px-4 py-1 bg-green-600 text-white rounded text-sm",children:"View Product"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:F,onDoubleClick:e=>e.preventDefault(),className:"flex items-center px-3 py-1 rounded-md transition-transform duration-200 ".concat(b?"bg-blue-600 text-white scale-110":"bg-gray-200 text-gray-700"),children:[(0,a.jsx)(o.spm,{className:"mr-2"}),g]}),(0,a.jsxs)("button",{onClick:L,onDoubleClick:e=>e.preventDefault(),className:"flex items-center px-3 py-1 rounded-md transition-transform duration-200 ".concat(y?"bg-red-600 text-white scale-110":"bg-gray-200 text-gray-700"),children:[(0,a.jsx)(o.spm,{className:"mr-2 rotate-180"}),j]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(u)),target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 rounded-md bg-blue-600 text-white",children:[(0,a.jsx)(o.Am9,{className:"mr-2"}),"Share"]}),(0,a.jsxs)("a",{href:"https://wa.me/?text=".concat(encodeURIComponent(x+" "+u)),target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 rounded-md bg-green-500 text-white",children:[(0,a.jsx)(o.xpo,{className:"mr-2"}),"Share"]})]})]}),(0,a.jsxs)("div",{className:"mb-6 mt-4",children:[(0,a.jsx)("input",{type:"text",value:_,onChange:e=>C(e.target.value),placeholder:"Your name",className:"w-full border p-2 rounded mb-2"}),(0,a.jsx)("textarea",{value:D,onChange:e=>S(e.target.value),rows:3,placeholder:"Write a comment...",className:"w-full border p-2 rounded mb-2"}),(0,a.jsx)("button",{onClick:Q,className:"bg-blue-600 text-white px-4 py-1 rounded",children:"Post Comment"}),R.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"border-t pt-2 mt-2 text-sm",children:[(0,a.jsx)("strong",{children:e.userName}),(0,a.jsx)("p",{children:e.text}),(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(1e3*e.createdAt.seconds).toLocaleDateString("en-IN")})]},t)}),k.length>2&&(0,a.jsx)("button",{onClick:()=>O(!I),className:"mt-2 text-green-600 underline",children:I?"Show less comments":"Show more comments"})]}),(0,a.jsxs)("div",{className:"mt-10",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Related Blogs"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("div",{className:"grid grid-flow-col auto-cols-[80%] sm:auto-cols-[45%] lg:auto-cols-[30%] gap-4 pb-2",children:P.map(e=>{var t;return(0,a.jsxs)(d.default,{href:"/blog/".concat(e.slug),className:"bg-gray-50 rounded shadow-sm p-3 flex-shrink-0",children:[e.coverImage&&(0,a.jsx)(i.default,{src:e.coverImage,alt:e.title,width:280,height:160,className:"rounded mb-2 object-cover w-full h-40"}),(0,a.jsx)("h3",{className:"font-semibold text-sm line-clamp-2",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-700 mt-1 line-clamp-2",children:e.category}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.content}),(0,a.jsxs)("div",{className:"mt-2 flex gap-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["\uD83D\uDC4D ",e.likes?Object.keys(e.likes).length:0]}),(0,a.jsxs)("span",{children:["\uD83D\uDC4E ",e.dislikes?Object.keys(e.dislikes).length:0]}),(0,a.jsxs)("span",{children:["\uD83D\uDCAC ",(null===(t=e.comments)||void 0===t?void 0:t.length)||0]})]})]},e.slug)})})})]})]})}},6410:function(e,t,s){"use strict";s.d(t,{db:function(){return n}});var a=s(738),l=s(5978);let r=(0,a.ZF)({apiKey:"AIzaSyAI8stgPus8Q8J-w7drj-JddmaKo6Z0hRs",authDomain:"herbolife-store.firebaseapp.com",projectId:"herbolife-store",storageBucket:"herbolife-store.firebasestorage.app",messagingSenderId:"922872122127",appId:"1:922872122127:web:001b4377661261b9cc4c7a"}),n=(0,l.ad)(r)}},function(e){e.O(0,[358,699,448,648,145,357,971,117,744],function(){return e(e.s=9181)}),_N_E=e.O()}]);